CREATE TABLE shops (
  id INT AUTO_INCREMENT PRIMARY KEY,
  merchant_id INT NOT NULL UNIQUE,
  name VARCHAR(255) NOT NULL,
  location VARCHAR(255) NOT NULL,
  phone VARCHAR(20) NOT NULL,
  description TEXT,
  image VARCHAR(255),
  is_open BOOLEAN DEFAULT 0,
  accepting_orders BOOLEAN DEFAULT 1,
  closing_time VARCHAR(20),
  order_limit INT DEFAULT 50,
  orders_received INT DEFAULT 0,
  meal_types JSON,
  curries JSON,
  customizations JSON,
  business_hours JSON,
  total_orders INT DEFAULT 0,
  total_revenue DECIMAL(10,2) DEFAULT 0,
  rating DECIMAL(3,2) DEFAULT 0,
  review_count INT DEFAULT 0,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (merchant_id) REFERENCES users(id)
);
